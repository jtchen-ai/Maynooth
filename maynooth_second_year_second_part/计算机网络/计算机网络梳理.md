

# 计算机网络梳理



## 计算机网络的概念

- **计算机网络**
  - 由若干节点(node)和连接这些节点的链路(link)组成。节点可以是计算机、集线器、交换机、路由器等。
  - 主要功能：数据通信（信息传递）、资源共享。
- **互联网 (internet)**
  - 由“路由器连接”引出：多个计算机网络通过路由器相互连接而成。
  - 可使用任意通信协议。
- **互联网 (Internet)**
  - 由“世界上最大的互联网”引出：或译为因特网。特指全世界最大的计算机网络，由各大ISP和国际机构组建。
  - 使用TCP/IP协议族作为通信规则。
- **其他拓展**
  - **ISP (Internet Service Provider)**：互联网服务提供商。
  - 集线器、交换机用于连接同一网络内的不同结点；路由器用于连接不同的网络。
  - 家用路由器 = 路由器 + 交换机 + 其他功能。



## 计算机网络的组成

### 从组成部分看



- **硬件**
  - 主机，即端系统 (end system) — 如：电脑、手机、物联网设备 ← 内部安装
  - 通信设备 — 如：集线器、交换机、路由器
  - 通信链路 — 如：网线、光纤、同轴电缆
- **软件**
  - 方便用户使用，实现资源共享，如：Email客户端、聊天软件、网盘软件
- **协议**
  - 规定计算机网络中的通信规则
  - 由硬件、软件共同实现，如：网络适配器+软件实现网络通信协议

> **网络适配器（网卡）**
>
> - 将主机数据发送到网络上
> - 接收来自网络的数据



### 从工作方式看

- **边缘部分**
  - 工作方式：直接为用户服务（通信、资源共享）
  - 主要由连接到互联网上的主机及其软件组成
- **核心部分**
  - 工作方式：为边缘部分提供服务（连通性、交换服务）
  - 由大量网络和连接这些网络的路由器组成



### 从逻辑功能看

- **资源子网**
  - 计算机网络中运行应用程序，向用户提供可共享的硬件、软件和信息资源的部分。
  - 主要由连接到互联网上的主机组成
- **通信子网**
  - 计算机网络中负责计算机间信息传输的部分，即把计算机和其他用户装置互连在一起的所有通信设备和介质的总称。
  - 主要由 通信链路 + 通信设备 + 协议 构成
  - 注：主机内部实现信息传输的网络适配器、底层协议属于通信子网的范畴

## 计网信息交换方式





### 电路交换



- **完成传输所需时间**: 最少（排除建立/释放连接耗时）
- **存储转发时延**: 无
- **通信前是否需要建立连接**: 是
- **缓存开销**: 无
- **是否支持差错控制**: 不支持
- **报文数据有序到达**: 是
- **是否需要额外的控制信息**: 否
- **线路分配灵活性**: 不灵活
- **线路利用率**: 低



### 报文交换



- **完成传输所需时间**: 最多
- **存储转发时延**: 较高
- **通信前是否需要建立连接**: 否
- **缓存开销**: 高
- **是否支持差错控制**: 支持
- **报文数据有序到达**: 是
- **是否需要额外的控制信息**: 是
- **线路分配灵活性**: 灵活
- **线路利用率**: 高



### 分组交换



- **完成传输所需时间**: 较少
- **存储转发时延**: 较低
- **通信前是否需要建立连接**: 否
- **缓存开销**: 低
- **是否支持差错控制**: 支持
- **报文数据有序到达**: 否
- **是否需要额外的控制信息**: 是（控制信息占比最大）
- **线路分配灵活性**: 非常灵活
- **线路利用率**: 非常高





## 计算机网络的分类



- **按分布范围分类**

  - 广域网 (WAN)
  - 城域网 (MAN)、局域网 (LAN) → 使用“以太网技术”实现
  - 个域网 (PAN)

- **按传输技术分类**

  - 广播式网络 (根据数据目的地址判断是否接受)
  - 点对点网络

- **按拓扑结构分类**

  - **总线形** → 存在“总线争用”问题；广播式传输
  - **环形** → 用“令牌”解决总线争用问题；广播式传输
  - **星形** → 不存在总线争用问题；由中央设备实现数据的点对点传输
  - **网状** → 灵活、可靠性高、控制复杂、线路成本高

  > *`总线型`、`环形`、`星形` 常见于局域网。*

- **按使用者分类**

  - **公用网** (给钱就能用)
  - **专用网** (给钱也不让用)

- **按传输介质分类**

  - 有线网络
  - 无线网络



## 计算机网络的性能指标



### 速率

- 又名：数据率、比特率、数据传输速率

### 带宽

- 表示某信道允许通过的**最高数据率**

### **吞吐量**

- 描述某个网络（或节点、信道）的在单位时间内通过的**实际数据量**（实际的综合数据率）

### 带宽 (另一种含义)

- 表示某信道允许通过的**信号频带范围**，单位 Hz

###  单位

- bit/s = b/s = bps
- bps, kbps, Mbps, Gbps, Tbps (103 递增)
- 注意：1B = 8b



## 计算机网络分层结构



- **网络的体系结构**
  - “体系结构”精确定义了网络的层次划分、各层功能、各层协议等，不涉及具体实现。
  - **三种常见的网络体系结构**
    - **OSI参考模型**: 7层 (法律标准)
    - **TCP/IP模型**: 4层 (事实标准)
    - **五层模型**: 5层 (教学用标准)
- **实体、协议、接口、服务**
  - **实体**：第n层中的活动元素 (软件+硬件) 称为第n层实体。
  - **协议**：是控制对等实体之间进行通信的规则的集合，是**水平的**。
  - **服务**：是指下层为紧邻的上层提供的功能调用，是**垂直的**。
    - *注：服务的分类可暂时不了解*
  - **接口**：又称为服务访问点 (SAP)，上一层实体通过“接口”请求下一层实体的服务。
- **PDU, SDU, PCI**
  - **PDU (协议数据单元)**
  - **SDU (服务数据单元)**
  - **PCI (协议控制信息)**
  - `n-SDU + n-PCI = n-PDU = (n-1)-SDU`
- **协议的三要素**
  - **语法** — 数据与控制信息的格式。
  - **语义** — 即需要发出何种控制信息、完成何种动作及做出何种应答。
  - **同步 (或时序)** — 执行各种操作的条件、时序关系等。



## OSI 参考模型



### 7 应用层



- **任务**: 实现特定网络应用
- **功能**: 略



### 6 表示层



- **任务**: 解决不同主机上信息表示不一致的问题
- **功能**: 数据格式转换



### 5 会话层



- **任务**: 管理进程间会话
- **功能**: 会话管理



### 4 传输层



- **任务**: 实现端到端（进程到进程）通信
- **功能**: 复用和分用、差错控制、流量控制、连接管理、可靠传输管理



### 3 网络层



- **任务**: 把分组从源结点转发到目的结点
- **功能**: 路由选择、分组转发、拥塞控制、网际互联、差错控制、流量控制、连接管理、可靠传输管理



### 2 数据链路层



- **任务**: 确保相邻邻结点之间的链路逻辑上无差错
- **功能**: 差错控制、流量控制



### 1 物理层



- **任务**: 实现相邻节点之间比特的传输
- **功能**: 需定义电路接口参数、信号的含义/电气特性等



## TCP/IP模型



### 4 应用层



- **任务**: 实现特定网络应用
- **功能**: 略



### 3 传输层



- **任务**: 实现端到端 (进程到进程) 通信
- **功能**: 复用和分用、差错控制、流量控制、连接管理、可靠传输管理



### 2 网络层

- **任务**: 把分组从源结点转发到目的结点
- **功能**: 路由选择、分组转发、拥塞控制、网际互联、差错控制、流量控制、连接管理、可靠传输管理

### 1 网络接口层



- **任务**: 实现相邻邻结点之间的数据传输 (为网络层传输“分组”)
- **功能**: 无具体规定