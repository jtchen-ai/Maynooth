# L11String_JavaScript 

------

## **JavaScript 字符串 (Strings)**

- **定义**: JavaScript 字符串用于存储一系列字符，例如 "John Doe"。字符串可以是引号内的任何文本。你可以使用单引号或双引号。
- **不可变性**: 所有字符串方法都会返回一个新字符串。它们不会修改原始字符串。正式地说：字符串是不可变的，字符串不能被更改，只能被替换。

### **字符串方法 (String Methods)**

#### 1. 查找子字符串

- `indexOf()`: 返回字符串中指定文本首次出现的索引。
- `lastIndexOf()`: 返回字符串中指定文本最后一次出现的索引。
- 如果未找到文本，`indexOf()` 和 `lastIndexOf()` 都会返回 -1。
- 这两个方法都接受第二个参数作为搜索的起始位置。
- **注意**: JavaScript 的位置计数从零开始。0 是字符串的第一个位置，1 是第二个，依此类推。

#### 2. 提取字符串部分

有三种方法可以从字符串中提取一部分：

- `slice(start, end)`
- `substring(start, end)`
- `substr(start, length)`

##### `slice()` 方法：

- 提取字符串的一部分，并返回新字符串。
- 接受两个参数：起始索引和结束索引（不包含）。
- 如果省略第二个参数，将切出字符串的剩余部分。

##### `substring()` 方法：

- 与 `slice()` 类似。
- 如果省略第二个参数，将切出字符串的剩余部分。

##### `substr()` 方法：

- 与 `slice()` 类似，但第二个参数表示提取长度。
- 如果省略第二个参数，将切出字符串的剩余部分。

#### 3. 替换与大小写转换

- `replace()`: 用另一个值替换字符串中的指定值。

大小写转换：

- `toUpperCase()`: 将字符串转换为大写。
- `toLowerCase()`: 将字符串转换为小写。

#### 4. 拼接字符串

- `concat()`: 用于连接两个或多个字符串。
- `concat()` 可以替代加号（+）操作符。

#### 5. 提取字符串字符

有两种安全的方法可以提取字符串中的字符：

- `charAt(position)`: 返回指定位置的字符。
- `charCodeAt(position)`: 返回指定位置字符的 Unicode 编码。

#### 6. 将字符串转换为数组

- ```
  split()
  ```

  : 将字符串转换为数组。

  - 如果省略分隔符，数组索引 [0] 中包含整个字符串。
  - 如果分隔符是 `""`，返回的数组是单个字符组成的数组。

**注意**: 将字符串作为数组访问是不安全的，且结果不可预测。这在所有浏览器中并不通用，并且字符串并不是数组。

------

## **JavaScript 数字 (Numbers)**

- **基本概念**: JavaScript 只有一种类型的数字。数字可以带或不带小数。特大或特小的数字可以用科学（指数）计数法书写。

### NaN - 非数字

- `NaN` 表示一个值不是数字。
- 尝试用非数字字符串进行算术运算将导致 `NaN`。但如果字符串中包含数字，结果将是数字。
- 使用 `isNaN()` 判断一个值是否是数字。
- 数学运算中使用 `NaN`，结果也是 `NaN`，或者可能是拼接的字符串。

### 数字方法

- `toString()`: 将数字转换为字符串。可用于字面量、变量或表达式。
- `valueOf()`: 将数字作为数字返回。JavaScript 内部使用它进行原始值转换。在代码中通常不需要使用它。
- **提示**: 所有数据类型都有 `valueOf()` 和 `toString()` 方法。

### 将变量转换为数字

三种常用全局方法：

- ```
  Number()
  ```

  : 将变量转换为数字。

  - 对 `Date()` 对象使用时，返回自 1970 年 1 月 1 日以来的毫秒数。

- ```
  parseInt()
  ```

  : 解析字符串并返回整数。

  - 允许空格，只返回第一个数字。
  - 无法转换时返回 `NaN`。

- ```
  parseFloat()
  ```

  : 解析字符串并返回浮点数。

  - 允许空格，只返回第一个数字。
  - 无法转换时返回 `NaN`。

------

## **JavaScript Math 对象**

- **简介**: `Math` 对象用于执行数学任务。它包含多个数学方法。无需创建对象即可使用。

### 常用方法：

- `Math.random()`: 返回 [0, 1) 的随机数。
- `Math.min()` / `Math.max()`: 返回最小值或最大值。
- `Math.round()`: 四舍五入。
- `Math.ceil()`: 向上取整。
- `Math.floor()`: 向下取整。

------

## **JavaScript 日期 (Dates)**

- **简介**: `Date` 对象用于处理年月日时分秒等。可以写成字符串或数字。数字表示自 1970 年 1 月 1 日起的毫秒数。

### 创建 Date 对象：

- `new Date()`: 当前日期时间。
- `new Date(number)`: 表示从 1970 年起的毫秒数。
- `new Date(年,月,日,时,分,秒,毫秒)`：传入 7 个数字。

### 显示日期：

- 在 HTML 中显示 `Date` 对象时，会自动调用 `toString()`。

### 解析日期：

- `Date.parse()`: 将日期字符串转换为毫秒数。
- 可使用该毫秒数创建新的日期对象。

### 比较日期：

- 日期对象可以直接进行比较。

**提示**: 月份从 0 开始，一月是 0，十二月是 11。

### 日期方法：

#### Get 方法：

- `getDate()`: 月中的某一天 (1-31)
- `getDay()`: 星期几 (0-6)
- `getFullYear()`: 年份
- `getMonth()`: 月份 (0-11)
- `getTime()`: 时间戳（毫秒）

#### Set 方法：

- `setDate()`: 设置日 (1-31)
- `setFullYear()`: 设置年
- `setMonth()`: 设置月 (0-11)
- `setTime()`: 设置时间戳

------

## **JavaScript 数组 (Arrays)**

### 定义与创建：

- 数组是可一次存储多个值的变量。通过索引访问。

- 使用数组字面量是最简单的方式：

  javascript

  复制

  ```
  var arr = [item1, item2, ...];
  ```

- 数组是对象的特殊类型，可包含对象、函数、其他数组等。

### `length` 属性：

- 返回数组元素数量。
- 永远比最大索引值大 1。

### 添加元素：

- 使用 `push()` 是最简单的方式。
- 也可以使用 `array[array.length]`。
- **注意**: 使用高索引会创建“空洞”。

### 遍历数组：

- 最常用方式是 `for` 循环。

### 数组方法：

#### 转换为字符串：

- `toString()`: 用逗号连接
- `join(separator)`: 使用指定分隔符连接

#### 出栈与入栈：

- `pop()`: 移除最后一个元素，返回该值
- `push()`: 添加一个元素到末尾，返回新长度

#### 移位：

- `shift()`: 移除第一个元素，返回该值
- `unshift()`: 添加一个元素到开头，返回新长度

#### 拼接与切片：

- `splice(index, howmany, item1, ...)`: 移除/添加元素
- `slice(start, end)`: 返回新数组（不包括 end）

#### 合并数组：

- `concat()`: 合并多个数组并返回新数组

#### 排序与反转：

- `sort()`: 按字母顺序排序
- `reverse()`: 反转数组

#### 数字排序：

- 默认 `sort()` 会按字符串排序

- 使用比较函数：

  javascript

  复制

  ```
  function(a, b) { return a - b } // 升序
  function(a, b) { return b - a } // 降序
  ```

------

## **JavaScript 作用域 (Scope)**

- **定义**: 作用域是变量、函数和对象的可访问范围。JavaScript 使用函数作用域。

### 局部变量：

- 在函数内部声明。
- 只能在函数内访问。
- 函数执行时创建，结束时销毁。

### 全局变量：

- 在函数外声明。
- 所有脚本和函数都可访问。

### 自动全局：

- 给未声明的变量赋值时，它会自动成为全局变量。

### 变量生命周期：

- 声明时创建。
- 局部变量在函数结束后销毁。
- 全局变量在页面关闭时销毁。

### HTML 中的全局变量：

- 在 HTML 中，全局作用域为 `window` 对象。所有全局变量都是 `window` 的属性。